<% layout("/layouts/boilerplate") %>
<br>
<body>
    <div class="row offset-1 ">
        <div class="col-8">

    <h3>Edit Recipe </h3>
    <form method="POST" action="/listings/<%= listing._id %>?_method=PUT" novalidate class="needs-validation" enctype="multipart/form-data">

      <div class="mb-3">
        <label for="title" class="form-label">Title</label>
        <input type="text" name="listing[title]" value="<%= listing.title %>" class="form-control" required>
        <div class="valid-feedback">Title looks good!</div>
        <div class="invalid-feedback">Title required</div>
    </div>
    
    <div class="mb-3">
        Recipe Image <br>
        <img src="<%= originalImageUrl %>">
      </div>
    <div class="mb-3">
        <label for="image_url" class="form-label">upload Image </label>
        <input type="file" name="listing[image]"  class="form-control">
    </div>

    <div class="mb-3">
        <label for="image_filename" class="form-label">Image Filename</label>
        <input type="text" name="listing[image][filename]" value="<%= listing.image.filename %>" class="form-control">
    </div>

    <div class="mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea class="form-control" required name="listing[description]"><%= listing.description %></textarea>
        <div class="invalid-feedback">Short description required</div>
    </div>

    <div class="mb-3 col-md-4">
        <label for="ingredients" class="form-label">Ingredients</label>
        <textarea class="form-control" required name="listing[ingredients]"><%= listing.ingredients %></textarea>
        <div class="invalid-feedback">Ingredients required</div>
    </div>

    <div class="mb-3 col-md-8">
        <label for="steps" class="form-label">Recipe</label>
        <textarea class="form-control" required name="listing[steps]"><%= listing.steps %></textarea>
        <div class="invalid-feedback">Recipe required</div>
    </div>

    <div class="form-group">
        <label for="listing[categories]">Categories</label><br>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="Trending" name="listing[categories][]" value="Trending" <%= listing.categories.includes('Trending') ? 'checked' : '' %>>
            <label class="form-check-label" for="Trending">Trending</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="Vegetarian" name="listing[categories][]" value="Vegetarian" <%= listing.categories.includes('Vegetarian') ? 'checked' : '' %>>
            <label class="form-check-label" for="Vegetarian">Vegetarian</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="Non-Vegetarian" name="listing[categories][]" value="Non-Vegetarian" <%= listing.categories.includes('Non-Vegetarian') ? 'checked' : '' %>>
            <label class="form-check-label" for="Non-Vegetarian">Non-Vegetarian</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="Indian" name="listing[categories][]" value="Indian" <%= listing.categories.includes('Indian') ? 'checked' : '' %>>
            <label class="form-check-label" for="Indian">Indian</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="Italian" name="listing[categories][]" value="Italian" <%= listing.categories.includes('Italian') ? 'checked' : '' %>>
            <label class="form-check-label" for="Italian">Italian</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="Western" name="listing[categories][]" value="Western" <%= listing.categories.includes('Western') ? 'checked' : '' %>>
            <label class="form-check-label" for="Western">Western</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="Maharashtrian" name="listing[categories][]" value="Maharashtrian" <%= listing.categories.includes('Maharashtrian') ? 'checked' : '' %>>
            <label class="form-check-label" for="Maharashtrian">Maharashtrian</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="South Indian" name="listing[categories][]" value="South Indian" <%= listing.categories.includes('South Indian') ? 'checked' : '' %>>
            <label class="form-check-label" for="South Indian">South Indian</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="Dessert" name="listing[categories][]" value="Dessert" <%= listing.categories.includes('Dessert') ? 'checked' : '' %>>
            <label class="form-check-label" for="Dessert">Dessert</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="Coffee" name="listing[categories][]" value="Coffee" <%= listing.categories.includes('Coffee') ? 'checked' : '' %>>
            <label class="form-check-label" for="Coffee">Coffee</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="salad" name="listing[categories][]" value="salad" <%= listing.categories.includes('salad') ? 'checked' : '' %>>
            <label class="form-check-label" for="salad">salad</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="Breakfast" name="listing[categories][]" value="Breakfast" <%= listing.categories.includes('Breakfast') ? 'checked' : '' %>>
            <label class="form-check-label" for="Breakfast">Breakfast</label>
        </div>
    </div>

    <button class="btn btn-dark add-btn col-2 mt-3">Update</button>
    </form>
   
</div>
</div>   
<br>  
<script src="/js/script.js"></script>
</body>
